<!DOCTYPE html>
<a lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- <link rel="stylesheet" href="assets/css/bootstrap.min.css"> -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    </head>
    <style>
        img {
            padding: 5px;
            width: 30%;
            height: 30%;
        }

        #edit {
            background-color: rgba(128, 128, 128, 0.523);
        }

        #delete {
            background-color: rgb(163, 163, 163);
        }

        a #back {
            background-color: rgb(232, 232, 232);
            margin-left: 190px;
        }

        tr td input {
            width: 15%;
            text-align: center;
        }
    </style>

<header id="home" class="welcome-hero">
    <div id="header-carousel" class="carousel slide carousel-fade" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#header-carousel" data-slide-to="0" class="active"><span class="small-circle"></span>
            </li>
            <li data-target="#header-carousel" data-slide-to="1"><span class="small-circle"></span></li>
            <li data-target="#header-carousel" data-slide-to="2"><span class="small-circle"></span></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <div class="single-slide-item slide1">
                    <div class="container">
                        <div class="welcome-hero-content">
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-txt">
                                            <h4>great design collection</h4>
                                            <h2>cloth covered accent chair</h2>
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                                                eiuiana smod tempor ut labore et dolore magna aliqua. Ut enim ad
                                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                                                aliquip.
                                            </p>
                                            <div class="packages-price">
                                                <p>
                                                    $ 399.00
                                                    <del>$ 499.00</del>
                                                </p>
                                            </div>
                                            <button class="btn-cart welcome-add-cart"
                                                onclick="window.location.href='#'">
                                                <span class="lnr lnr-plus-circle"></span>
                                                add <span>to</span> cart
                                            </button>
                                            <button class="btn-cart welcome-add-cart welcome-more-info"
                                                onclick="window.location.href='#'">
                                                more info
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-img">
                                            <img src="assets/images/slider/slider1.png" alt="slider image">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="single-slide-item slide2">
                    <div class="container">
                        <div class="welcome-hero-content">
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-txt">
                                            <h4>great design collection</h4>
                                            <h2>mapple wood accent chair</h2>
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                                                eiuiana smod tempor ut labore et dolore magna aliqua. Ut enim ad
                                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                                                aliquip.
                                            </p>
                                            <div class="packages-price">
                                                <p>
                                                    $ 199.00
                                                    <del>$ 299.00</del>
                                                </p>
                                            </div>
                                            <button class="btn-cart welcome-add-cart"
                                                onclick="window.location.href='#'">
                                                <span class="lnr lnr-plus-circle"></span>
                                                add <span>to</span> cart
                                            </button>
                                            <button class="btn-cart welcome-add-cart welcome-more-info"
                                                onclick="window.location.href='#'">
                                                more info
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-img">
                                            <img src="assets/images/slider/slider2.png" alt="slider image">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item">
                <div class="single-slide-item slide3">
                    <div class="container">
                        <div class="welcome-hero-content">
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-txt">
                                            <h4>great design collection</h4>
                                            <h2>valvet accent arm chair</h2>
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                                                eiuiana smod tempor ut labore et dolore magna aliqua. Ut enim ad
                                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                                                aliquip.
                                            </p>
                                            <div class="packages-price">
                                                <p>
                                                    $ 299.00
                                                    <del>$ 399.00</del>
                                                </p>
                                            </div>
                                            <button class="btn-cart welcome-add-cart"
                                                onclick="window.location.href='#'">
                                                <span class="lnr lnr-plus-circle"></span>
                                                add <span>to</span> cart
                                            </button>
                                            <button class="btn-cart welcome-add-cart welcome-more-info"
                                                onclick="window.location.href='#'">
                                                more info
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="single-welcome-hero">
                                        <div class="welcome-hero-img">
                                            <img src="assets/images/slider/slider3.png" alt="slider image">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="top-area">
        <div class="header-area">
            <nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy"
                data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">
                <div class="top-search">
                    <div class="container">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-search"></i></span>
                            <input type="text" class="form-control" placeholder="Search">
                            <span class="input-group-addon close-search"><i class="fa fa-times"></i></span>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="attr-nav">
                        <ul>
                            <li class="nav-setting" onclick="logout()">
                                <a href="#"><span class="lnr lnr-user"></span></a>
                            </li>
                            <li class="dropdown">
                                <a href="cart.html" class="dropdown-toggle" data-toggle="dropdown">
                                    <span class="lnr lnr-cart"></span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target="#navbar-menu">
                            <i class="fa fa-bars"></i>
                        </button>
                        <a class="navbar-brand" href="index.html">sine<span>mkt</span>.</a>
                    </div>
                    <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
                        <ul class="nav navbar-nav navbar-center" data-in="fadeInDown" data-out="fadeOutUp">
                            <li class=" scroll active"><a href="#home">home</a></li>
                            <li class="scroll"><a href="#new-arrivals">new arrival</a></li>
                            <li class="scroll"><a href="#feature">features</a></li>
                            <li class="scroll"><a href="#blog">blog</a></li>
                            <li class="scroll"><a href="#newsletter">contact</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
        <div class="clearfix"></div>
    </div>
</header>

    <table border="1" class="table table-striped border-3 shadow-lg text-center w-75 mt-5 m-auto align-middle ">
        <tr>
            <td>image</td>
            <td>name</td>
            <td>qty</td>
            <td>price</td>
            <td>total</td>
            <td>remove</td>
        </tr>
        <tbody id="products"></tbody>
        <tfoot>
            <tr>
                <td colspan="4">total</td>
                <td id="finaltotal"></td>
            </tr>
        </tfoot>
    </table>
    <br>

    <a href="index.html"><input type="button" value="Go Back" id="back"></a>

    
	<footer id="footer" class="footer">
		<div class="container">
			<div class="hm-footer-copyright text-center">
				<div class="footer-social">
					<a href="#"><i class="fa fa-facebook"></i></a>
					<a href="#"><i class="fa fa-instagram"></i></a>
					<a href="#"><i class="fa fa-linkedin"></i></a>
					<a href="#"><i class="fa fa-pinterest"></i></a>
					<a href="#"><i class="fa fa-behance"></i></a>
				</div>
				<p>
					&copy;copyright. designed and developed by <a href="https://www.themesine.com/">themesine</a>
				</p>
			</div>
		</div>
		<div id="scroll-Top">
			<div class="return-to-top">
				<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title=""
					data-original-title="Back to Top" aria-hidden="true"></i>
			</div>
		</div>
	</footer>

    <!-- <script src="assets/js/bootstrap.min.js"></script> -->
    <script type="text/javascript">

        const product = () => {

            let val = JSON.parse(localStorage.getItem('data'));

            var productdata = "";
            var total = 0;

            val.forEach((v) => {
                total = (v.qty * v.price) + total;
                productdata +=
                    `
                    <tr>
                        <td><img src="${v.url}"></img></td>
                        <td>${v.name}</td>
                        <td><input type="number" id="qty_${v.id}" value="${v.qty}" onchange="edit(${v.id})"></td>
                        <td>${v.price}</td>
                        <td>${v.price * v.qty}</td>
                        <td> 
                            <button onclick="deleteData(${v.id})" id="delete">remove</button>
                            <button onclick="editData(${v.id})" id="edit">edit</button>
                        </td>
                    </tr>
                `
            });

            document.getElementById('products').innerHTML = productdata;
            document.getElementById('finaltotal').innerHTML = total;

        }
        product();

        const deleteData = (id) => {
            let data = JSON.parse(localStorage.getItem('data'));
            let ans = data.filter((val) => {
                return val.id != id;
            })

            localStorage.setItem('data', JSON.stringify(ans));
            alert("User Sucessfully Deleted");
            product();
        }

        const editData = (id) => {
            let data = JSON.parse(localStorage.getItem('data'));

            data.filter((val) => {
                if (val.id == id) {
                    val.qty = document.getElementById('qty_' + id).value;
                }
                return val;
            });

            localStorage.setItem('data', JSON.stringify(data));
            product();
        }

        const edit = (id) => {
           qty = document.getElementById('qty_' + id).value;
            if (qty > 0) {
                let data = JSON.parse(localStorage.getItem('data'));
                data.filter((val) => {
                    if (val.id == id) {
                        val.qty = document.getElementById('qty_' + id).value;
                    }
                    return val;
                });

                localStorage.setItem('data', JSON.stringify(data));
                product();
            }
            else{
                alert("product doesn't exist")
            }
        }
    </script>
    </body>

    </html>